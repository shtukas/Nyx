#!/usr/bin/ruby

# encoding: UTF-8

require_relative "Libs/loader.rb"

# ----------------------------------------------------------------------------

loop {
    puts "-- Nyx ðŸ—º -----------------------------"

    ops = [
        "Search",
        "Nodes Listing",
        "Make new Element",
        "Import Folder"
    ]
    operation = LucilleCore::selectEntityFromListOfEntitiesOrNull("operation", ops)
    break if operation.nil?
    if operation == "Search" then
        Patricia::generalSearchLoop()
    end
    if operation == "Nodes Listing" then
        loop {
            nodes = Patricia::networkNodesInOrder()
            node = LucilleCore::selectEntityFromListOfEntitiesOrNull("node", nodes, lambda{|node| NereidInterface::toString(node) })
            break if node.nil?
            Olivia::landing(node)
        }
    end
    if operation == "Make new Element" then
        node = NereidInterface::interactivelyIssueNewElementOrNull()
        next if node.nil?
        Olivia::landing(node)
    end
    if operation == "Import Folder" then
        Patricia::importFolderInteractively()
    end
}
