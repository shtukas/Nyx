#!/usr/bin/ruby

# encoding: UTF-8

require_relative "Libs/loader.rb"

# ----------------------------------------------------------------------------

if ARGV[0] == "search" then

    Thread.new {
        sleep 10
        NxSMDir1Auto::smartDirectoriesImportScan(false)
    }

    Search::searchLoop()
    exit
end

if ARGV[0] == "make" then
    entity = NxEntities::interactivelyCreateNewEntityOrNull()
    exit if entity.nil?
    NxEntities::landing(entity)
    exit
end

if ARGV[0] == "scan" then
    NxSMDir1Auto::smartDirectoriesImportScan(true)
    exit
end

if ARGV[0] == "unique-string" then
    puts SecureRandom.hex(6)
    exit
end

str = <<HELP
usage:
    nyx search
    nyx make
    nyx scan
    nyx unique-string # Generates a unique string for type FSUniqueString
    nyx help # help display
HELP
puts str

