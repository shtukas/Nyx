#!/usr/bin/ruby

# encoding: UTF-8

require_relative "Libs/loader.rb"

# ----------------------------------------------------------------------------

loop {
    puts "-- Nyx ðŸ—º -----------------------------"

    ops = [
        "Search",
        "Nodes Listing",
        "Make new Element",
    ]
    operation = LucilleCore::selectEntityFromListOfEntitiesOrNull("operation", ops)
    break if operation.nil?
    if operation == "Search" then
        Patricia::generalSearchLoop()
    end
    if operation == "Nodes Listing" then
        loop {
            elements = Patricia::networkNodesInOrder()
            node = LucilleCore::selectEntityFromListOfEntitiesOrNull("node", elements, lambda{|e| Olivia::toString(e["uuid"]) })
            break if element.nil?
            Olivia::landing(element)
        }
    end
    if operation == "Make new Element" then
        element = Olivia::interactivelyIssueNewElementOrNull()
        next if element.nil?
        Olivia::landing(element)
    end
}
